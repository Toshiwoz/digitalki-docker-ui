<div class="wrap"><h2><?php print DIGITALKI_DOCKER_UI_PUGIN_NAME ." ". DIGITALKI_DOCKER_UI_CURRENT_VERSION. "<sub>(Build ".DIGITALKI_DOCKER_UI_CURRENT_BUILD.")</sub>"; ?></h2><?phpadd_action( 'admin_footer', 'my_action_javascript' ); // Write our JS below herefunction my_action_javascript() {  $nonce = wp_create_nonce( 'helloworld' );  ?><script  type='text/javascript'><!--var count = 0;function update_hello_world( count ) {  jQuery.ajax({    type: "post",url: "admin-ajax.php",data: { action: 'gethello4', count: count, _ajax_nonce: '<?php echo $nonce; ?>' },    beforeSend: function() {jQuery("#helloworld").fadeOut('fast');}, //fadeIn loading just when link is clicked    success: function(html){ //so, if data is retrieved, store it in html      jQuery("#helloworld").html(html); //fadeIn the html inside helloworld div      jQuery("#helloworld").fadeIn("fast"); //animation    }  }); //close jQuery.ajax(}// When the document loads do everything inside here ...jQuery(document).ready(function(){  jQuery('#random').click(function() { //start function when Random button is clicked    jQuery.ajax({      type: "post",url: "admin-ajax.php",data: { action: 'randomcol', _ajax_nonce: '<?php echo $nonce; ?>' },      beforeSend: function() {jQuery("#loading").fadeIn('fast');}, //fadeIn loading just when link is clicked      success: function(html){ //so, if data is retrieved, store it in html        jQuery("#loading").fadeOut('slow');        jQuery("#colour").val(html); //fadeIn the html inside helloworld div        jQuery("#helloworld").fadeIn("fast"); //animation      }    }); //close jQuery.ajax    return false;  })  jQuery('#save').click(function() { //start function when Random button is clicked    jQuery.ajax({      type: "post",url: "admin-ajax.php",data: { action: 'colour', colour: escape( jQuery( '#colour' ).val() ), _ajax_nonce: '<?php echo $nonce; ?>' },      beforeSend: function() {jQuery("#loading").fadeIn('fast');jQuery("#formstatus").fadeOut("fast");}, //fadeIn loading just when link is clicked      success: function(html){ //so, if data is retrieved, store it in html        jQuery("#loading").fadeOut('slow');        jQuery("#formstatus").html( html ); //show the html inside formstatus div        jQuery("#formstatus").fadeIn("fast"); //animation        jQuery("#formstatus").fadeOut(5000); //animation      }    }); //close jQuery.ajax    return false;  })})--></script><style type='text/css'>#loading {    clear:both;    background:url(images/loading.gif) center top no-repeat;    text-align:center;    padding:33px 0px 0px 0px;    font-size:12px;    display:none;    font-family:Verdana, Arial, Helvetica, sans-serif;}</style><div class="wrap"><form action='' method='POST' id='helloworld4form'><p>Colour: <input type='text' name='colour' id='colour' value='#000000' /></p><p><input type='submit' name='action' id='random' value='Random' /> <input type='submit' name='action' id='save' value='Save' /></p></form><div id='formstatus'></div><div id='loading'>LOADING!</div></div><?php}function save_colour() {  check_ajax_referer( "helloworld" );  echo 'Saved colour: ' . urldecode( $_POST[ 'colour' ] );  die();}add_action( 'wp_ajax_colour', 'save_colour' );function get_randomcol() {  check_ajax_referer( "helloworld" );  $col = substr( mt_rand(), 0, 6 );  echo '#' . $col;  die();}add_action( 'wp_ajax_randomcol', 'get_randomcol' );?><form method="post" action="options.php">    <?php		settings_fields( 'dki-docker-ui-settings-group' );        function get_web_page($url) {            $options = array(                CURLOPT_RETURNTRANSFER => true,   // return web page                CURLOPT_HEADER         => false,  // don't return headers                CURLOPT_FOLLOWLOCATION => true,   // follow redirects                CURLOPT_MAXREDIRS      => 10,     // stop after 10 redirects                CURLOPT_ENCODING       => "",     // handle compressed                CURLOPT_USERAGENT      => "test", // name of client                CURLOPT_AUTOREFERER    => true,   // set referrer on redirect                CURLOPT_CONNECTTIMEOUT => 120,    // time-out on connect                CURLOPT_TIMEOUT        => 120,    // time-out on response            );            $ch = curl_init($url);            curl_setopt_array($ch, $options);            $content  = curl_exec($ch);            curl_close($ch);            return $content;        }	?>    <table class="form-table">    <?php        $base_url = 'http://docker-compose-ui:5000/api/v1/';        $response = get_web_page($base_url . "projects");        $resArr = array();        $resArr = json_decode($response, 1);        // d($resArr);        $active_icon = '<span class="dashicons dashicons-image-rotate" style="color: green;"></span> &nbsp;';            // echo '<pre>' . print_r($resArr['active'][1]) . '</pre>';        foreach ($resArr['projects'] as $key => $value) {            if($value) {                // $response_details = get_web_page("http://docker-compose-ui:5000/api/v1/projects/" . $elements[0]);                // $detArr = array();                // $detArr = json_decode($response_details, 1);                $cleaned_proj = strtolower(preg_replace("/[^A-Za-z0-9]/", '', $key));                $active = array_search($cleaned_proj, $resArr['active']);                // echo '<pre>' . $elements[0] . '</pre>';                // echo '<hr>';                echo '<tr valign="top">';                echo '<th scope="row">' . ($active !== false ? $active_icon : '') . $key .'</th>';                echo '<td><input type="button" name="' . $cleaned_proj . '_view" id="' . $cleaned_proj . '_view" value="View YML" /></td>';                echo '</tr>';            }        }    ?>    </table>    <p class="submit">    <input type="submit" class="button-primary" value="<?php _e('Save Changes') ?>" />    </p></form></div>